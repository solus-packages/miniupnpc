diff --git a/miniupnpc/upnpreplyparse.c b/miniupnpc/upnpreplyparse.c
index 5de5796a..ae84b0ba 100644
--- a/miniupnpc/upnpreplyparse.c
+++ b/miniupnpc/upnpreplyparse.c
@@ -104,9 +105,7 @@ ParseNameValue(const char * buffer, int bufsize,
                struct NameValueParserData * data)
 {
 	struct xmlparser parser;
-	data->l_head = NULL;
-	data->portListing = NULL;
-	data->portListingLength = 0;
+	memset(data, 0, sizeof(struct NameValueParserData));
 	/* init xmlparser object */
 	parser.xmlstart = buffer;
 	parser.xmlsize = bufsize;
